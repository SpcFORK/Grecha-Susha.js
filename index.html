<!DOCTYPE html>
<html>

<head>
  <title>Grecha-Susha.js</title>
  <script src="./grecha-susha.js" type="module"></script>

</head>

<body>
  <div id="entry"></div>

  <script type="module">

    const kasha = img("SushaLogo.favicon.png")
      .att$("width", 32 * 4 + 'px')
      .att$("height", 32 * 4 + 'px')
      .style$({
        "position": "absolute",
        // Disable Bi-linear interpolation
        "image-rendering": "pixelated",
      })

    const kashaHard = img("KashaHard.gif");

    const r = router({

      "/": (r) => {
        const [count, setCount] = r.useState(0);
        const [hard, setHard] = r.useState(false);

        // setCount(0)
        // setHard(false)

        return div(
          h1("Grecha.js"),

          div(a("Foo").att$("href", "examples")),
          div(a("Bar").att$("href", "#/bar")),

          div(`Counter: ${count()}`),

          div(hard() ? kashaHard : kasha).onclick$(() => {
            setCount(count() + 1);
            setHard(!hard());
          }),
        )
      },

      "/foo": () => div(
        h1("Foo"),
        p(LOREM),
        div(a("Home").att$("href", "#")),
      ),

      "/bar": () => div(
        h1("Bar"),
        p(LOREM),
        div(a("Home").att$("href", "#")),
      ),

      // Working 404
      '/404': () => div(
        h1("404"),
        p("You've hit an error page!!"),
        div(a("Home").att$("href", "#"))
      )

    });
    entry.appendChild(r);

  </script>
  <!-- <script src="./grecha-susha.imports.js"></script> -->

</body>

</html>